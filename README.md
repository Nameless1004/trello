<div align=center>
<img src="https://capsule-render.vercel.app/api?type=waving&color=auto&height=200&section=header&text=Trello&fontSize=75" />
</div>
<div align=center>
	<h3>ğŸ“š Backend Tech Stack ğŸ“š</h3>
</div>
<div align="center">
	<img src="https://img.shields.io/badge/Java-007396?style=flat&logo=Conda-Forge&logoColor=white" />
  <img src="https://img.shields.io/badge/JPA-11DAFB?style=flat" />
  <img src="https://img.shields.io/badge/QueryDSL-4479A1?style=flat" />
  <br>
	<img src="https://img.shields.io/badge/Spring-6DB33F?style=flat&logo=Spring&logoColor=white" />
  <img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=flat&logo=SpringBoot&logoColor=white" />
  <img src="https://img.shields.io/badge/SpringSecurity-6DB33F?style=flat&logo=SpringSecurity&logoColor=white" />
  <br>
  <img src="https://img.shields.io/badge/Docker-2496ED?style=flat&logo=Docker&logoColor=white" />
  <img src="https://img.shields.io/badge/AmazonS3-569A31?style=flat&logo=AmazonS3&logoColor=white" />
  <img src="https://img.shields.io/badge/MySQL-4479A1?style=flat&logo=MySQL&logoColor=white" />
  <img src="https://img.shields.io/badge/Redis-FF4438?style=flat&logo=Redis&logoColor=white" />
</div>

<div align=center>
	<h3>ğŸ› ï¸ Tools ğŸ› ï¸</h3>
</div>
<div align="center">
	<img src="https://img.shields.io/badge/intellij-000000?style=flat&logo=intellijidea&logoColor=white" />
  	<img src="https://img.shields.io/badge/Git-F05032?style=flat&logo=Git&logoColor=white" />
  	<img src="https://img.shields.io/badge/GitHub-181717?style=flat&logo=GitHub&logoColor=white" />
</div>

</p>
  <p align="center">
    <a href="https://https://github.com/Nameless1004/trello/graphs/contributors">
      <img alt="GitHub Contributors" src="https://img.shields.io/github/contributors/Nameless1004/trello" />
    </a>
    <br />
      <br />
  </p>
</div>

# ğŸ“•íŠ¸ë ë¡œ í”„ë¡œì íŠ¸
## í”„ë¡œì íŠ¸ ì„¤ëª…

## í”„ë¡œì íŠ¸ ì¸ì›
* ê¹€ì§„ê·¼ (íŒ€ì¥)
* ê°•ì´ì› (íŒ€ì›)
* ì •ì¬í˜¸ (íŒ€ì›)
* ìœ íƒœì´ (íŒ€ì›)
## ë‹´ë‹¹ ê¸°ëŠ¥
* ê¹€ì§„ê·¼ (íŒ€ì¥)
	* ìŠ¤í”„ë§ ì‹œíë¦¬í‹° jwt í† í°
	* ë©¤ë²„
 	* ì›Œí¬ìŠ¤í˜ì´ìŠ¤
  	* ë™ì‹œì„± ì œì–´
* ê°•ì´ì› (íŒ€ì›)
	* ì¹´ë“œ
 	* ëŒ“ê¸€
 	* ì²¨ë¶€íŒŒì¼
  	* ë ˆë””ìŠ¤ ìºì‹± ì²˜ë¦¬
* ì •ì¬í˜¸ (íŒ€ì›)
	* ë¦¬ìŠ¤íŠ¸
 	* ìŠ¬ë™ ì•Œë¦¼
  	* ì  í‚¨ìŠ¤ CI / CD
  	* ë ˆë””ìŠ¤ ì„¼í‹°ë„¬
* ìœ íƒœì´ (íŒ€ì›)
	* ë¡œê·¸ì¸ / íšŒì›ê°€ì…
 	* ë³´ë“œ
  	* ê²€ìƒ‰
  	* ì¿¼ë¦¬ ìµœì í™”
## ì˜ìƒ
<a href="https://www.youtube.com/watch?v=uaNDadpahXA" target='_blank'><img src="https://img.shields.io/badge/youtube-FF0000?style=flat&logo=youtube&logoColor=white" /></a>

<br>
<br>

# ë°±ì—”ë“œ
## â™»ï¸ERD
![image](https://github.com/user-attachments/assets/e630dd3c-6174-4708-bd4e-9b633d3f40b3)
## ğŸ—’ï¸ê¸°ëŠ¥
<details>
<summary><h3>ì¸ì¦ ì¸ê°€</h3></summary>
<div markdown="1">

- jwt ì•¡ì„¸ìŠ¤, ë¦¬í”„ë ˆì‰¬ í† í° ë°œí–‰
- jwt ì•¡ì„¸ìŠ¤, ë¦¬í”„ë ˆì‰¬ í† í° ì¬ë°œí–‰
- jwt í† í° ì¸ì¦, ì¸ê°€
- íšŒì›ê°€ì… / ë¡œê·¸ì¸ / ë¡œê·¸ì•„ì›ƒ
</div>
</details>

<details>
<summary><h3>ë™ì‹œì„± ì œì–´</h3></summary>
<div markdown="1">

- ê° ë½ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ê³¼ ì¥ë‹¨ì 
    - ë‚™ê´€ì  ë½
    - ë¹„ê´€ì  ë½
    - ë¶„ì‚° ë½
- ë‚™ê´€ì  ë½ì„ ì„ íƒí•œ ì´ìœ 
    - ì¼ë°˜ì ìœ¼ë¡œ ì¹´ë“œì˜ ìƒíƒœê°€ ë™ì‹œì— ì—…ë°ì´íŠ¸ë˜ëŠ” ê²½ìš°ëŠ” ê·¸ë¦¬ ë§ì§€ ì•Šë‹¤ê³  ìƒê°í•´, **ë‚™ê´€ì  ë½**ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•˜ë‹¤ íŒë‹¨í•¨. ì´ëŠ” ì„±ëŠ¥ ì €í•˜ ì—†ì´ íš¨ìœ¨ì ìœ¼ë¡œ ë°ì´í„° ì¼ê´€ì„±ì„ ìœ ì§€í•˜ëŠ” ë°©ì‹ì´ë©°, ì¶©ëŒì´ ë°œìƒí–ˆì„ ê²½ìš°ì—ë„ ì¬ì‹œë„í•˜ëŠ” êµ¬ì¡°ë¡œ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë™ì‹œì„± ë¬¸ì œ í•´ê²° ì „í›„ì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ë¹„êµ
    - ë ˆí¬ì§€í† ë¦¬ì˜ `disable-concurrency-control.html` (ë™ì‹œì„± ì œì–´ ëˆ í›„ í…ŒìŠ¤íŠ¸), `enable-concurrency-control.html` (ë™ì‹œì„± ì œì–´ ì¼  í›„ í…ŒìŠ¤íŠ¸) ìº¡ì³ í›„ ì‚¬ìš©
</div>
</details>

<details>
<summary><h3>ë©¤ë²„ ê¶Œí•œ</h3></summary>
<div markdown="1">

- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ë©¤ë²„ì¸ì§€ / ë©¤ë²„ ì—­í• ì´ `READ_ONLY`ì¸ë° `GET` ìš”ì²­ì´ ì•„ë‹Œ ìš”ì²­ì„ í–ˆì„ë•Œë¥¼ í™•ì¸í•˜ëŠ” í•„í„°ë¥¼ ì¶”ê°€í•¨
    - `RoleFilter.java`
    - uriì—ì„œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ idë¥¼ ì¸ì‹í•´ì„œ ìë™ìœ¼ë¡œ í™•ì¸í•˜ë„ë¡ í•¨
</div>
</details>

<details>
<summary><h3>ìºì‹±</h3></summary>
<div markdown="1">

- ìºì‹± í›„ ì¡°íšŒ ì‹œê°„ì´ ì¤„ìŒ @casheableì„ ë¶™ì—¬ì¤Œ
- ì‚¬ìš©ì„ ìœ„í•´ `cacheManager` ë¥¼ RedisConfigì— @Beenìœ¼ë¡œ ì¶”ê°€í•´ì¤Œ
![image](https://github.com/user-attachments/assets/e54b84c7-7813-4c4f-b501-4242f641e2ef)
- ìºì‹± ì „ ì¡°íšŒ ì‹œê°„ì´ ê¸¸ì—ˆìŒ
![image](https://github.com/user-attachments/assets/0c4e8fff-7f1e-42c3-a152-c56d99e2da1a)
</div>
</details>

<details>
<summary><h3>ì¿¼ë¦¬ ìµœì í™”</h3></summary>
<div markdown="1">

- ê°œì„  ëŒ€ìƒ ì¿¼ë¦¬ì™€ í•´ë‹¹ ì¿¼ë¦¬ë¥¼ ì„ íƒí•œ ì´ìœ 
    - title ì»¬ëŸ¼ì€ ì¸ë±ìŠ¤ê°€ ì„¤ì • ë˜ì–´ ìˆì§€ ì•Šì•„ ê²€ìƒ‰ì–´ê°€ í¬í•¨ëœ ì œëª©ì„ ì°¾ì„ ë•Œ ì „ì²´ í…Œì´ë¸” ìŠ¤ìº”ì„ í•´ì•¼ í•¨ ì´ë¡œ ì¸í•´ í…Œì´ë¸”ì˜ ë ˆì½”ë“œê°€ ë§ì„ìˆ˜ë¡ ì„±ëŠ¥ì´ ì €í•˜ ë¨
    - titleì— ëŒ€í•´ ì¸ë±ìŠ¤ë¥¼ ì„¤ì •í•˜ë©´, ë¶€ë¶„ ì¼ì¹˜ ê²€ìƒ‰ì—ì„œ ì„±ëŠ¥ì´ í–¥ìƒ ë¨
- ì¸ë±ìŠ¤ ì„¤ì • DDL ì¿¼ë¦¬
```sql
CREATE INDEX idx_card_title ON cards(title);
```
- ì¿¼ë¦¬ ì†ë„ ë¹„êµ (Before, After)
```sql
EXPLAIN SELECT * FROM cards WHERE title LIKE 'ê²€ìƒ‰ì–´%';
```
![image](https://github.com/user-attachments/assets/053a61a3-dd6b-41cb-a0ff-d6b077c2a57c)
![image](https://github.com/user-attachments/assets/4cb46cd8-68a5-41bd-a13d-0ee3cb633f38)
</div>
</details>
<details>

<summary><h3>CI/CD</h3></summary>
<div markdown="1">
	
- ë„ì»¤ë¡œ ì  í‚¨ìŠ¤ êµ¬ì¶•
- ê¹ƒí—™ ì›¹ í›… urlì— [`localhost:8888/`](http://localhost:8888/) ëŠ” ë™ì‘ì´ ì•ˆë¼ì„œ `ngrok`ì„  ì‚¬ìš©í•´ì„œ ì™¸ë¶€ì—ì„œ ë‚´ ë¡œì»¬ì— ì ‘ì†í•  ìˆ˜ ìˆë„ë¡ ì¡°ì¹˜
![image](https://github.com/user-attachments/assets/ece74b5d-8f6f-49db-968b-58329460bb5c)
- íŒŒì´í”„ë¼ì¸
    - dev ë¸Œëœì¹˜ì— í‘¸ì‰¬ (ì˜ ë™ì‘ë˜ëŠ”ì§€ í™•ì¸ì„ ìœ„í•´ì„œ dev ë¸Œëœì¹˜ë¡œ ì§€ì •)
    - webhookìœ¼ë¡œ ì  í‚¨ìŠ¤ì—ì„œ dev ë¸Œëœì¹˜ì— í‘¸ì‰¬ê°€ ë°œìƒë˜ë©´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
        - ê¹ƒí—ˆë¸Œ í´ë¡  ë°›ì•„ì˜¤ê¸°
        - ë¹Œë“œ
        - Test ì‹¤í–‰
        - ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œ
        - ë„ì»¤ í—ˆë¸Œì— ì´ë¯¸ì§€ í‘¸ì‰¬
        - sshë¡œ ec2 í„°ë¯¸ë„ ì›ê²© ì ‘ì†
            - ë„ì»¤ í—ˆë¸Œì—ì„œ ìµœì‹  ë²„ì „ pull
            - docker runìœ¼ë¡œ ì‹¤í–‰
- ê²°ê³¼
![image](https://github.com/user-attachments/assets/e457557c-a944-4bfc-bbeb-8b27d0b51de4)
![image](https://github.com/user-attachments/assets/1d5fe822-4daf-4cd6-898c-cc78ac9c699d)
</div>
</details>

# íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
<details>
<summary><h2>ìºì‹œ ì¡°íšŒ ì˜¤ë¥˜</h2></summary>
<div markdown="1">
	
### ë°°ê²½
Redisì™€ Spring Bootë¥¼ ì‚¬ìš©í•˜ì—¬ ìºì‹œë¥¼ ì„¤ì • ì¤‘, LocalDate ë° LocalDateTime íƒ€ì…ì˜ ì§ë ¬í™” ë¬¸ì œë¡œ ì¸í•´ ìºì‹œ ì¡°íšŒ ì‹œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
### ë°œë‹¨
LocalDateì™€ LocalDateTimeì€ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì§ë ¬í™”ê°€ ì§€ì›ë˜ì§€ ì•Šì•„ Could not write JSON ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì´ëŠ” Java 8 ë‚ ì§œ APIì™€ ê´€ë ¨ëœ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.
### ì „ê°œ
ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ Jackson ëª¨ë“ˆ ì˜ì¡´ì„±(jackson-datatype-jsr310)ì„ ì¶”ê°€í•˜ê³ , @JsonFormat ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ ë‚ ì§œ ì§ë ¬í™”ë¥¼ ì‹œë„í–ˆìŠµë‹ˆë‹¤. ë˜í•œ, ModuleConfig íŒŒì¼ì„ ì¶”ê°€í•´ObjectMapperë¥¼ ë§Œë“¤ì–´ JavaTimeModuleì„ ë“±ë¡í–ˆìœ¼ë‚˜ ë¬¸ì œëŠ” ì§€ì†ë˜ì—ˆìŠµë‹ˆë‹¤.
### ìœ„ê¸°
CacheManagerì—ì„œ JSON ì§ë ¬í™” ì²˜ë¦¬ê°€ ì˜ëª»ë˜ì—ˆë‹¤ëŠ” ì ì„ ì‰½ê²Œ ë°œê²¬í•˜ì§€ ëª»í–ˆê³ , ì›ì¸ì„ ì°¾ê¸° ì–´ë ¤ìš´ ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤. GenericJackson2JsonRedisSerializerë¥¼ ì´ë¯¸ ì‚¬ìš© ì¤‘ì´ì—ˆê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ìºì‹œ ì„¤ì •ê³¼ ê´€ë ¨ì´ ìˆë‹¤ê³  ìƒê°í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

**ë¬¸ì œê°€ ìˆë˜ ì›ë˜ ì½”ë“œ**
```java
@Bean
    public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {
        RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()
                .entryTtl(Duration.ofMinutes(10)) // ìºì‹œ ë§Œë£Œ ì‹œê°„ ì„¤ì •
                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));

        return RedisCacheManager.builder(redisConnectionFactory)
                .cacheDefaults(cacheConfig)
                .transactionAware() // íŠ¸ëœì­ì…˜ ì§€ì›
                .build();
    }
```
### ì ˆì •
ë¬¸ì œì˜ ì›ì¸ì€ CacheManager ì„¤ì •ì—ì„œ ObjectMapperê°€ ì œëŒ€ë¡œ ì§ë ¬í™” ëª¨ë“ˆì„ ì¸ì‹í•˜ì§€ ëª»í•œ ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. ê²°êµ­ GenericJackson2JsonRedisSerializerì— ObjectMapperë¥¼ ì§ì ‘ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
### ê²°ë§
ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ CacheManagerì—ì„œ GenericJackson2JsonRedisSerializerì— ObjectMapperë¥¼ ì „ë‹¬í•˜ì—¬ ì§ë ¬í™” ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ê³ , ì •ìƒì ìœ¼ë¡œ ìºì‹œ ë°ì´í„°ë¥¼ ì§ë ¬í™” ë° ì—­ì§ë ¬í™”í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

**ìµœì¢… í•´ê²°ëœ ì½”ë“œ**
```java
@Bean
public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory) {
    ObjectMapper objectMapper = new ObjectMapper();
    objectMapper.registerModule(new JavaTimeModule());

    RedisSerializer<Object> redisSerializer = new GenericJackson2JsonRedisSerializer(objectMapper);

    RedisCacheConfiguration cacheConfig = RedisCacheConfiguration.defaultCacheConfig()
            .entryTtl(Duration.ofMinutes(10))
            .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(redisSerializer));

    return RedisCacheManager.builder(redisConnectionFactory)
            .cacheDefaults(cacheConfig)
            .transactionAware()
            .build();
}
```		
</div>
</details>
